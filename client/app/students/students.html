<div layout="column" layout-margin>
    <md-card>
        <md-toolbar class="md-table-toolbar md-default" ng-show="!selected.length">
            <div class="md-toolbar-tools">
                <span>Students</span>
            </div>
        </md-toolbar>
        <md-toolbar class="md-table-toolbar alternate" ng-show="selected.length">
            <div class="md-toolbar-tools">
                <span>{{selected.length}} {{selected.length > 1 ? 'items' : 'item'}} selected</span>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="deleteItems()">
                    <md-icon class="mdi mdi-delete mdi-24px"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-table-container>
            <table md-table md-row-select multiple ng-model="selected" md-progress="deferred">
                <thead md-head md-order="query.order" md-on-reorder="onOrderChange" >
                <tr md-row>
                    <th md-column md-order-by="id">ID</th>
                    <th md-column md-order-by="name.first">First Name</th>
                    <th md-column md-order-by="name.last">Last Name</th>
                    <th md-column md-order-by="class">Class</th>
                    <th md-column md-order-by="gender">Gender</th>
                    <th md-column md-order-by="avgGrade">Average Grade</th>
                </tr>
                </thead>
                <tbody md-body>
                <tr md-row md-select="item" md-select-id="id" md-auto-select ng-repeat="item in items.docs">
                    <td md-cell>{{ item.id }}</td>
                    <td md-cell ng-click="edit($event, item, 'name.first')">{{ item.name.first }}</td>
                    <td md-cell ng-click="edit($event, item, 'name.last')">{{ item.name.last }}</td>
                    <td md-cell ng-click="edit($event, item, 'class')">{{ item.class }}</td>
                    <td md-cell>
                        <md-input-container>
                            <md-select ng-model="item.gender" class="md-no-underline" ng-change="changeGender(item)">
                                <md-option value="female">Female</md-option>
                                <md-option value="male">Male</md-option>
                            </md-select>
                        </md-input-container>
                    </td>
                    <td md-cell ng-click="edit($event, item, 'avgGrade')">{{ item.avgGrade }}</td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
        <md-table-pagination
                md-limit="query.limit"
                md-page="query.page"
                md-total="{{items.total}}"
                md-on-paginate="getItems">
        </md-table-pagination>
    </md-card>
</div>
<md-button class="md-fab md-fab-bottom-right md-primary" layout layout-align="center center"
           ng-click="addItem($event)" aria-label="Add new constraint">
    <i class="mdi mdi-plus mdi-24px"></i>
</md-button>
